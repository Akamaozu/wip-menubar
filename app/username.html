<!DOCTYPE html>
<html>
  <head>
    <style>
      ::-webkit-input-placeholder { color: #bbb; }
      html, body { width: 100%; height: 100%; margin: 0; }
      input {
        width: 100%;
        height: 100%;
        padding: 20px 20px 20px 55px;
        border: none;
        outline: none;
        box-sizing: border-box;
        font: 18px -apple-system, BlinkMacSystemFont, sans-serif;
        color: #24292e;
        background: url('github.svg') 12px center/32px no-repeat #f6f8fa;
        -webkit-appearance: none;
      }
    </style>
  </head>
  <body>
    <input id="username-input" type="text" placeholder="Your GitHub Username" />
    <script>
      const ipcRenderer = require('electron').ipcRenderer
      const config = require('./config')
      const input = document.querySelector('input')
      input.value = config.get('username')
      input.select()
      input.addEventListener('keyup', (event) => {
        if (event.keyCode === 13) ipcRenderer.send('setUsername', input.value)
        if (event.keyCode === 27) ipcRenderer.send('setUsername', '')
      })
    </script>
  </body>
</html>
